# Snowflake Resource Provisioning

resources:
  databases:
    - name: Certified_dev
      schemas:
        - common
        - Cx
        - Stage
        - finance
        - salesforce
      roles:
        - name: Certified_dev_rw
          privileges:
            - ALL PRIVILEGES ON DATABASE Certified_dev
            - ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE Certified_dev
        - name: Certified_dev_ro
          privileges:
            - USAGE ON DATABASE Certified_dev
            - USAGE ON ALL SCHEMAS IN DATABASE Certified_dev
    - name: Certified_qa
      schemas:
        - common
        - Cx
        - Stage
        - finance
        - salesforce
      roles:
        - name: Certified_qa_rw
          privileges:
            - ALL PRIVILEGES ON DATABASE Certified_qa
            - ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE Certified_qa
        - name: Certified_qa_ro
          privileges:
            - USAGE ON DATABASE Certified_qa
            - USAGE ON ALL SCHEMAS IN DATABASE Certified_qa
    - name: Certified_prod
      schemas:
        - common
        - Cx
        - Stage
        - finance
        - salesforce
      roles:
        - name: Certified_prod_ro
          privileges:
            - USAGE ON DATABASE Certified_prod
            - USAGE ON ALL SCHEMAS IN DATABASE Certified_prod
  roles:
    - name: certified_databases_role
      includes:
        - Certified_dev_rw
        - Certified_dev_ro
        - Certified_qa_rw
        - Certified_qa_ro
        - Certified_prod_ro
      granted_to:
        - sysadmin 